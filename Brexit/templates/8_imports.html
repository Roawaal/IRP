<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 10 Race</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div id="chart1" style="width: 35%; height: 480px;"></div>

    <script>
        const updateFrequencyChart1 = 2000;
        const countryColorsChart1 = {
    Ireland: '#0D3328',
    France: '#C0D72F',
    China: '#FFCD00',
    Germany: '#6CACE4',
    Singapore: '#009F3D',
    Italy: '#FF6F61',
    Poland: '#B6D8F2',
    'United States': '#3C1053',
    Belgium: '#EA7F00',
    Spain: '#FFB6C1',
    Netherlands: '#0077A7',
    'Hong Kong': '#FFD700',
    'United Arab Emirates': '#FFD700',
    Canada: '#0083c7',
    Australia:'#c27d58',
    Thailand: '#FFD700',
    Denmark: '#0e3757',
    Argentina: '#e8d574',
    Brazil:'#005f3c'
        };

        // 创建一个 ECharts 实例
        const myChart7 = echarts.init(document.getElementById('chart1'));

        // 示例数据
        const yearsDataChart1 = {
            2015: [
["France", 4286049.59],
["Netherlands", 3751879.46],
["Germany", 3505926.67],
["Ireland", 3196582.71],
["Italy", 2637621.67],
["Belgium", 2207425.42],
["Spain", 1381249.96],
["Poland", 1232369.84],
["United States", 1188735.25],
["Thailand", 925773.5],
["Denmark", 821946.4],
["Argentina", 621169.62],
            ],

            2016: [
["France", 3787327.1],
["Netherlands", 3632288.02],
["Germany", 3419259.06],
["Ireland", 2926063.81],
["Italy", 2476676.02],
["Belgium", 2169399.38],
["Spain", 1297791.12],
["Poland", 1281064.59],
["United States", 972815.7],
["Thailand", 861664.37],
["Denmark", 769867.76],
["Argentina", 555870.29],
            ],
            2017: [
["France", 4127021.13],
["Netherlands", 3664708.16],
["Germany", 3522939.85],
["Ireland", 2821103.33],
["Italy", 2516357.33],
["Belgium", 2171347.14],
["Poland", 1537383.11],
["Spain", 1477958.56],
["United States", 1049132.14],
["Thailand", 847984.84],
["Denmark", 771005.33],
["Argentina", 693647.33],
            ],
            2018: [
["France", 4210785.2],
["Netherlands", 3727706.86],
["Germany", 3721362.89],
["Ireland", 2928160.7],
["Italy", 2759408.78],
["Belgium", 2269271.42],
["Poland", 1666205.99],
["Spain", 1640174.26],
["United States", 1177547.73],
["Thailand", 894990.54],
["Denmark", 867912.66],
["Argentina", 707191.62],

            ],
            2019: [
["France", 4266069.46],
["Germany", 3833722.46],
["Netherlands", 3776542.99],
["Ireland", 2879827.67],
["Italy", 2797569.65],
["Belgium", 2270848.5],
["Spain", 1640060.81],
["Poland", 1584324.92],
["United States", 1097533.65],
["Thailand", 916978.43],
["Denmark", 688736.45],
["Argentina", 616179.77],
            ],
            2020: [
["France", 4118990.64],
["Germany", 3730505.81],
["Netherlands", 3645773.65],
["Italy", 2941429.73],
["Ireland", 2885979.42],
["Belgium", 2341667.75],
["Poland", 1946570.7],
["Spain", 1749344.94],
["United States", 1110030.71],
["Thailand", 852986.61],
["Denmark", 694460.14],
["Argentina", 670078.05],
            ],
            2021: [
["France", 4166000.1],
["Netherlands", 3390999.97],
["Italy", 3128074.55],
["Germany", 3029524.64],
["Belgium", 2772362.43],
["Ireland", 2370796.87],
["Poland", 1913736.46],
["Spain", 1666955.3],
["United States", 1107006.98],
["Thailand", 817829.09],
["Argentina", 763552.34],
["Denmark", 626860.67],
            ],

        };


const optionChart1 = {
    title: {
        text: '2015',
        left: 'center',
        textStyle: {
            color: '#333',
            fontWeight: 'bold',
            fontSize: 16
        }
    },
    xAxis: {
        type: 'value'
    },
    yAxis: {
        type: 'category',
        data: [],
        axisLabel: {
            formatter: function (value) {
                return value + '{flag|}';
            },
            rich: {
                flag: {
                    fontSize: 20,
                    padding: 5
                }
            }
        }
    },
    series: [
        {
            type: 'bar',
            data: [],
            label: {
                show: true,
                position: 'right',
                formatter: '{c}',
                fontSize: 14
            }
        }
    ],
    animationDuration: 0,
    animationDurationUpdate: updateFrequencyChart1,
    animationEasing: 'linear',
    animationEasingUpdate: 'linear'
};
myChart7.setOption(optionChart1);

let currentYearIndexChart1 = 0;
setInterval(function () {
    const currentYearChart1 = 2015 + currentYearIndexChart1;
    const currentYearDataChart1 = yearsDataChart1[currentYearChart1];

    myChart7.setOption({
        title: {
            text: currentYearChart1.toString()
        },
        yAxis: {
            data: currentYearDataChart1.map(item => item[0])
        },
        series: [
            {
                data: currentYearDataChart1.map(item => ({
                    value: item[1],
                    itemStyle: {
                        color: countryColorsChart1[item[0]] || '#5470c6'
                    }
                }))
            }
        ]
    });

    currentYearIndexChart1++;
    if (currentYearIndexChart1 >= Object.keys(yearsDataChart1).length) {
        currentYearIndexChart1 = 0;
    }
}, updateFrequencyChart1);
    </script>
</body>
</html>