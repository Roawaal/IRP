<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top 10 Race</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"></script>
    <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>

    <div id="chart0" style="width: 100%; height: 480px;"></div>

    <script>
        // JavaScript 代码
        const updateFrequencyChart0 = 2000;
        const countryColorsChart0 = {
    Ireland: '#0D3328',
    France: '#C0D72F',
    China: '#FFCD00',
    Germany: '#6CACE4',
    Singapore: '#009F3D',
    Italy: '#FF6F61',
    Poland: '#B6D8F2',
    'United States': '#3C1053',
    Belgium: '#EA7F00',
    Spain: '#FFB6C1',
    Netherlands: '#0077A7',
    'Hong Kong': '#FFD700',
    'United Arab Emirates': '#FFD700',
    Canada: '#0083c7',
    Australia:'#e85400',
        };

        // 创建一个 ECharts 实例
        const myChart6 = echarts.init(document.getElementById('chart0'));

        // 示例数据
        const yearsDataChart0 = {
            2015: [
["Ireland", 2904341.88],
["North America", 2786896.09],
["United States", 2382434.84],
["France", 1718612.38],
["Germany", 1151300.8],
["Netherlands", 1108353.98],
["Spain", 740392.19],
["Australia", 450718.26],
["United Arab Emirates", 420904.92],
["Singapore", 414835.75],
["Canada", 397730.94],
["Italy", 385819.81],
["Belgium", 379827.94],
            ],

            2016: [
["Ireland", 2788146.8],
["North America", 2784434.86],
["United States", 2401822.44],
["France", 1519029.15],
["Germany", 1140196.91],
["Netherlands", 975762.3],
["Spain", 710628.93],
["Australia", 421079.36],
["Italy", 413015.06],
["United Arab Emirates", 395150.44],
["Singapore", 392700.6],
["Canada", 376335.94],
["Belgium", 360396.37],
            ],
            2017: [
["Ireland", 2849709.4],
["United States", 2366944.52],
["France", 1592450.54],
["Germany", 1213115.86],
["Netherlands", 1085885.07],
["Spain", 785638.34],
["Singapore", 476480.89],
["Australia", 471773.69],
["Italy", 412085.86],
["Belgium", 404140.12],
["United Arab Emirates", 382263.19],
["Hong Kong, China", 375109.35],
            ],
            2018: [
["Ireland", 3234302.44],
["United States", 2485074.28],
["France", 1585390.62],
["Germany", 1262536.98],
["Netherlands", 1214209.47],
["Spain", 870941.29],
["Australia", 552127.25],
["Singapore", 542446.92],
["Belgium", 455828.97],
["Italy", 455426.21],
["China", 424314.87],
["United Arab Emirates", 418843.93],
            ],
            2019: [
["Ireland", 3011426.68],
["United States", 2410926.5],
["France", 1470077.03],
["Germany", 1196842.36],
["Netherlands", 1073354.85],
["Spain", 811318.43],
["Australia", 530829.39],
["Singapore", 515212.37],
["China", 472121.92],
["Italy", 434499.96],
["Belgium", 410716.86],
["Poland", 395259.28],
            ],
            2020: [
["Ireland", 3093086.67],
["United States", 1986863.65],
["France", 1275888.34],
["Germany", 1121665.26],
["Netherlands", 1040185.08],
["Spain", 565254.07],
["Australia", 498510.89],
["Singapore", 474309.57],
["Poland", 434209.87],
["China", 393797.85],
["Canada", 370458.53],
["Italy", 362727.19],
            ],
            2021: [
["Ireland", 2640478.17],
["United States", 2177111.52],
["France", 1448232.06],
["Netherlands", 1166307.61],
["Germany", 848564.54],
["China", 535684.74],
["Spain", 506154.89],
["Australia", 502217.42],
["Singapore", 444852.24],
["Poland", 426333.34],
["Canada", 403216.72],
["Belgium", 397114.62],
            ],

        };


        const optionChart0 = {
            xAxis: {
                type: 'value'
            },
            yAxis: {
                type: 'category',
                data: [], // 将在后面动态更新
                axisLabel: {
                    formatter: function (value) {
                        return value + '{flag|}';
                    },
                    rich: {
                        flag: {
                            fontSize: 20,
                            padding: 5
                        }
                    }
                }
            },
            series: [
                {
                    type: 'bar',
                    data: [], // 将在后面动态更新
                    label: {
                        show: true,
                        position: 'right',
                        formatter: '{c}',
                        fontSize: 14
                    }
                }
            ],
            animationDuration: 0,
            animationDurationUpdate: updateFrequencyChart0,
            animationEasing: 'linear',
            animationEasingUpdate: 'linear'
        };

        // 使用刚指定的配置项和数据显示图表。
        myChart6.setOption(optionChart0);

        // 添加年份标签
        const yearLabelsChart0 = [];
        for (let year in yearsDataChart0) {
            yearLabelsChart0.push({
                type: 'text',
                right: 10,
                top: 20 + (year - 2015) * 30,
                style: {
                    text: year.toString(),
                    font: 'bold 16px Arial',
                }
            });
        }

        myChart6.setOption({
            graphic: {
                elements: yearLabelsChart0
            }
        });

        // 更新数据示例
        let currentYearIndexChart0 = 0;
        setInterval(function () {
            const currentYearChart0 = 2015 + currentYearIndexChart0;
            const currentYearDataChart0 = yearsDataChart0[currentYearChart0];
            myChart6.setOption({
                yAxis: {
                    data: currentYearDataChart0.map(item => item[0])
                },
                series: [
                    {
                        data: currentYearDataChart0.map(item => ({
                            value: item[1],
                            itemStyle: {
                                color: countryColorsChart0[item[0]] || '#5470c6'
                            }
                        }))
                    }
                ]
            });

            currentYearIndexChart0++;
            if (currentYearIndexChart0 >= Object.keys(yearsDataChart0).length) {
                currentYearIndexChart0 = 0; // 循环播放年份数据
            }
        }, updateFrequencyChart0);
    </script>
</body>
</html>